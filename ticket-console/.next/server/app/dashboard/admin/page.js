(()=>{var e={};e.id=305,e.ids=[305],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5942:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>o,pages:()=>x,routeModule:()=>h,tree:()=>c}),a(7318),a(4968),a(5866);var t=a(3191),l=a(8716),r=a(7922),i=a.n(r),n=a(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(s,d);let c=["",{children:["dashboard",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7318)),"/root/webhook/ticket-console/src/app/dashboard/admin/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,4968)),"/root/webhook/ticket-console/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],x=["/root/webhook/ticket-console/src/app/dashboard/admin/page.tsx"],o="/dashboard/admin/page",m={require:a,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/dashboard/admin/page",pathname:"/dashboard/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},578:(e,s,a)=>{Promise.resolve().then(a.bind(a,265))},732:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(2881).Z)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},9183:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(2881).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},361:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(2881).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8998:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(2881).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},2280:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(2881).Z)("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]])},7506:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(2881).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1810:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(2881).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},1985:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(2881).Z)("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]])},949:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(2881).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},265:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>q});var t=a(326),l=a(8853),r=a(7577),i=a(8069),n=a(273),d=a(732),c=a(2881);let x=(0,c.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var o=a(7506),m=a(8998);let h=(0,c.Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),p=(0,c.Z)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),g=(0,c.Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),u=(0,c.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),j=(0,c.Z)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),y=(0,c.Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),b=(0,c.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),v=(0,c.Z)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);function N({data:e,aiColor:s="#8B5CF6",humanColor:a="#10B981"}){let l=Math.max(...e.flatMap(e=>[e.ai,e.human]),1);return t.jsx("div",{className:"space-y-3",children:e.map((e,r)=>(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600 font-medium",children:e.label}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["AI: ",e.ai," | Human: ",e.human]})]}),(0,t.jsxs)("div",{className:"flex gap-1 h-6",children:[t.jsx("div",{className:"rounded-l transition-all duration-500",style:{width:`${e.ai/l*100}%`,backgroundColor:s,minWidth:e.ai>0?"4px":"0"}}),t.jsx("div",{className:"rounded-r transition-all duration-500",style:{width:`${e.human/l*100}%`,backgroundColor:a,minWidth:e.human>0?"4px":"0"}})]})]},r))})}function f({data:e}){let s=Math.max(...e.flatMap(e=>[e.ai,e.human]),1),a=e=>e%5==0;return(0,t.jsxs)("div",{className:"relative",children:[t.jsx("div",{className:"flex items-end gap-[2px] h-[120px]",children:e.map((e,a)=>{let l=e.ai/s*120,r=e.human/s*120;return t.jsx("div",{className:"flex-1 flex flex-col items-center gap-[1px]",title:`${e.date}: AI ${e.ai}, Human ${e.human}`,children:(0,t.jsxs)("div",{className:"w-full flex gap-[1px]",style:{height:120},children:[t.jsx("div",{className:"flex-1 flex flex-col justify-end",children:t.jsx("div",{className:"w-full bg-purple-500 rounded-t transition-all duration-300",style:{height:l}})}),t.jsx("div",{className:"flex-1 flex flex-col justify-end",children:t.jsx("div",{className:"w-full bg-green-500 rounded-t transition-all duration-300",style:{height:r}})})]})},a)})}),t.jsx("div",{className:"flex justify-between mt-2",children:e.filter((e,s)=>a(s)).map((e,s)=>t.jsx("span",{className:"text-[10px] text-gray-400",children:e.date},s))})]})}function w({value:e,size:s=80,strokeWidth:a=8,color:l="#8B5CF6"}){let r=(s-a)/2,i=2*r*Math.PI;return(0,t.jsxs)("div",{className:"relative",style:{width:s,height:s},children:[(0,t.jsxs)("svg",{className:"transform -rotate-90",width:s,height:s,children:[t.jsx("circle",{className:"text-gray-200",strokeWidth:a,stroke:"currentColor",fill:"transparent",r:r,cx:s/2,cy:s/2}),t.jsx("circle",{className:"transition-all duration-500",strokeWidth:a,strokeDasharray:i,strokeDashoffset:i-e/100*i,strokeLinecap:"round",stroke:l,fill:"transparent",r:r,cx:s/2,cy:s/2})]}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsxs)("span",{className:"text-xl font-bold text-gray-800",children:[e,"%"]})})]})}function k({isOpen:e,onClose:s}){let[a,l]=(0,r.useState)(null),[i,n]=(0,r.useState)(!0),[c,k]=(0,r.useState)(null),A=async()=>{try{n(!0),k(null);let e=await fetch("/tms/api/ai-metrics");if(!e.ok)throw Error("Failed to load metrics");let s=await e.json();l(s)}catch(e){k("Failed to load AI metrics"),console.error(e)}finally{n(!1)}};return e?t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:t.jsx(d.Z,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-white",children:"AI Performance Metrics"}),t.jsx("p",{className:"text-purple-200 text-sm",children:"Comprehensive AI vs Human Support Analysis"})]})]}),t.jsx("button",{onClick:s,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:t.jsx(x,{className:"w-5 h-5 text-white"})})]}),t.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:i?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-20",children:[t.jsx(o.Z,{className:"w-10 h-10 text-purple-600 animate-spin mb-4"}),t.jsx("p",{className:"text-gray-500",children:"Loading AI metrics..."})]}):c?(0,t.jsxs)("div",{className:"text-center py-20",children:[t.jsx("p",{className:"text-red-500",children:c}),t.jsx("button",{onClick:A,className:"mt-4 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Retry"})]}):a?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 rounded-xl p-4 border border-purple-100",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"AI Resolution Rate"}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-purple-600",children:[a.summary.aiResolutionRate,"%"]}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"of all resolved tickets"})]}),t.jsx(w,{value:a.summary.aiResolutionRate})]})}),t.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-4 border border-green-100",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:t.jsx(m.Z,{className:"w-6 h-6 text-green-600"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Time Saved by AI"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[a.summary.timeSavedByAI,"h"]}),t.jsx("p",{className:"text-xs text-gray-400",children:"total hours saved"})]})]})}),t.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl p-4 border border-blue-100",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:t.jsx(h,{className:"w-6 h-6 text-blue-600"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Cost Savings"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:["$",a.summary.costSavedByAI.toLocaleString()]}),t.jsx("p",{className:"text-xs text-gray-400",children:"at $25/hr agent rate"})]})]})}),t.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 rounded-xl p-4 border border-orange-100",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:t.jsx(p,{className:"w-6 h-6 text-orange-600"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"AI Response Speed"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-orange-600",children:[a.summary.avgAIResponseTime,"s"]}),(0,t.jsxs)("p",{className:"text-xs text-gray-400",children:["vs ",a.summary.avgHumanResponseTime,"min human"]})]})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-200 text-center",children:[t.jsx(g,{className:"w-5 h-5 text-gray-400 mx-auto mb-2"}),t.jsx("p",{className:"text-2xl font-bold text-gray-800",children:a.summary.totalTickets}),t.jsx("p",{className:"text-xs text-gray-500",children:"Total Tickets"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-200 text-center",children:[t.jsx(d.Z,{className:"w-5 h-5 text-purple-500 mx-auto mb-2"}),t.jsx("p",{className:"text-2xl font-bold text-purple-600",children:a.summary.resolvedByAI}),t.jsx("p",{className:"text-xs text-gray-500",children:"Resolved by AI"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-200 text-center",children:[t.jsx(u,{className:"w-5 h-5 text-green-500 mx-auto mb-2"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.summary.resolvedByHuman}),t.jsx("p",{className:"text-xs text-gray-500",children:"Resolved by Human"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-200 text-center",children:[t.jsx(j,{className:"w-5 h-5 text-orange-500 mx-auto mb-2"}),t.jsx("p",{className:"text-2xl font-bold text-orange-600",children:a.summary.escalatedToHuman}),t.jsx("p",{className:"text-xs text-gray-500",children:"Escalated to Human"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-200 text-center",children:[t.jsx(y,{className:"w-5 h-5 text-blue-500 mx-auto mb-2"}),t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:a.summary.aiMessagesCount}),t.jsx("p",{className:"text-xs text-gray-500",children:"AI Messages Sent"})]})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(b,{className:"w-5 h-5 text-purple-600"}),t.jsx("h3",{className:"font-semibold text-gray-800",children:"30-Day Resolution Trend"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded"}),t.jsx("span",{className:"text-sm text-gray-500",children:"AI"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),t.jsx("span",{className:"text-sm text-gray-500",children:"Human"})]})]}),t.jsx(f,{data:a.charts.dailyTrend})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(v,{className:"w-5 h-5 text-purple-600"}),t.jsx("h3",{className:"font-semibold text-gray-800",children:"Resolution by Priority"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded"}),t.jsx("span",{className:"text-sm text-gray-500",children:"AI"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),t.jsx("span",{className:"text-sm text-gray-500",children:"Human"})]})]}),t.jsx(N,{data:a.charts.priorityBreakdown.map(e=>({label:e.priority,ai:e.ai,human:e.human}))})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl p-5 border border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(u,{className:"w-5 h-5 text-purple-600"}),t.jsx("h3",{className:"font-semibold text-gray-800",children:"Organization Support Preference"}),t.jsx("span",{className:"text-sm text-gray-400 ml-auto",children:"AI vs Human Resolution Rate by Organization"})]}),0===a.charts.orgPreference.length?t.jsx("p",{className:"text-gray-500 text-center py-4",children:"No organization data available yet"}):t.jsx("div",{className:"space-y-3",children:a.charts.orgPreference.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-32 text-sm text-gray-600 truncate",title:e.name,children:e.name}),(0,t.jsxs)("div",{className:"flex-1 h-8 bg-gray-100 rounded-lg overflow-hidden flex",children:[t.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-400 flex items-center justify-center text-xs text-white font-medium transition-all duration-500",style:{width:`${e.aiPercentage}%`},children:e.aiPercentage>15&&`${e.aiPercentage}%`}),t.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-400 flex items-center justify-center text-xs text-white font-medium transition-all duration-500",style:{width:`${100-e.aiPercentage}%`},children:100-e.aiPercentage>15&&`${100-e.aiPercentage}%`})]}),(0,t.jsxs)("div",{className:"w-24 text-right",children:[(0,t.jsxs)("span",{className:"text-xs text-purple-600 font-medium",children:[e.ai," AI"]}),t.jsx("span",{className:"text-gray-300 mx-1",children:"|"}),(0,t.jsxs)("span",{className:"text-xs text-green-600 font-medium",children:[e.human," Human"]})]})]},s))})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 rounded-xl p-6 text-white",children:[(0,t.jsxs)("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[t.jsx(p,{className:"w-5 h-5"}),"Response Time Advantage"]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsx("div",{className:"bg-white/10 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx(d.Z,{className:"w-8 h-8"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-3xl font-bold",children:[a.summary.avgAIResponseTime," seconds"]}),t.jsx("p",{className:"text-purple-200 text-sm",children:"Average AI Response Time"})]})]})}),t.jsx("div",{className:"bg-white/10 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx(u,{className:"w-8 h-8"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-3xl font-bold",children:[a.summary.avgHumanResponseTime," minutes"]}),t.jsx("p",{className:"text-purple-200 text-sm",children:"Average Human Response Time"})]})]})})]}),t.jsx("div",{className:"mt-4 text-center",children:(0,t.jsxs)("p",{className:"text-lg",children:["AI responds"," ",(0,t.jsxs)("span",{className:"font-bold text-2xl text-yellow-300",children:[Math.round(60*a.summary.avgHumanResponseTime/a.summary.avgAIResponseTime),"x"]})," ","faster than human agents"]})})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200",children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"\uD83D\uDE80 AI Support Benefits Summary"}),(0,t.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg shrink-0",children:t.jsx(m.Z,{className:"w-5 h-5 text-purple-600"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-gray-800",children:"24/7 Availability"}),t.jsx("p",{className:"text-sm text-gray-500",children:"AI never sleeps, instant responses anytime"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg shrink-0",children:t.jsx(b,{className:"w-5 h-5 text-green-600"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-gray-800",children:"Scalable Support"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Handle unlimited tickets simultaneously"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg shrink-0",children:t.jsx(h,{className:"w-5 h-5 text-blue-600"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-gray-800",children:"Cost Effective"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Reduce support costs by up to 70%"})]})]})]})]})]}):null})]})}):null}var A=a(1985);let M=(0,c.Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);var Z=a(2280);let C=(0,c.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var S=a(1810),_=a(949),I=a(361);let P=(0,c.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var R=a(9183),T=a(3686);let z={Low:"bg-gray-100 text-gray-700",Medium:"bg-blue-100 text-blue-700",High:"bg-orange-100 text-orange-700",Critical:"bg-red-100 text-red-700"},H={Open:"bg-yellow-100 text-yellow-700","In Progress":"bg-blue-100 text-blue-700","Awaiting Customer":"bg-purple-100 text-purple-700",Escalated:"bg-orange-100 text-orange-700",Resolved:"bg-green-100 text-green-700",Closed:"bg-gray-100 text-gray-700"};function q(){let{user:e,logout:s,isLoading:a}=(0,l.a)(),[d,c]=(0,r.useState)(!1),[x,o]=(0,r.useState)("tickets"),[h,p]=(0,r.useState)(null),[g,j]=(0,r.useState)([]),[y,b]=(0,r.useState)([]),[v,N]=(0,r.useState)([]),[f,w]=(0,r.useState)([]),[q,$]=(0,r.useState)(!0),[E,B]=(0,r.useState)(),[L,O]=(0,r.useState)(!1),D=(0,r.useCallback)(async()=>{try{let e=await i.Sb.getDashboardStats();p(e)}catch(e){console.error("Error loading stats:",e)}},[]),V=(0,r.useCallback)(async()=>{try{$(!0);let e=await i.Sb.getAllTickets({statusId:E});j(e)}catch(e){console.error("Error loading tickets:",e)}finally{$(!1)}},[E]);(0,r.useCallback)(async()=>{try{$(!0);let e=await i.Sb.getOrganizations();b(e)}catch(e){console.error("Error loading organizations:",e)}finally{$(!1)}},[]),(0,r.useCallback)(async()=>{try{$(!0);let e=await i.Sb.getContacts();N(e)}catch(e){console.error("Error loading contacts:",e)}finally{$(!1)}},[]),(0,r.useCallback)(async()=>{try{$(!0);let e=await i.Sb.getAgents();w(e)}catch(e){console.error("Error loading agents:",e)}finally{$(!1)}},[]),(0,n.im)(()=>{console.log("[Realtime] Update received, refreshing..."),D(),"tickets"===x&&V()});let U=e=>{window.location.href=`/tms/dashboard/admin/ticket/${e}`};if(a||!e)return t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."});let F=[{id:"tickets",label:"All Tickets",icon:A.Z,count:h?.totalTickets},{id:"organizations",label:"Organizations",icon:M,count:h?.totalOrganizations},{id:"contacts",label:"Contacts",icon:u,count:h?.totalContacts},{id:"agents",label:"Agents",icon:Z.Z,count:h?.totalAgents}];return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("header",{className:"bg-purple-600 text-white",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-xl font-bold",children:"Admin Dashboard"}),t.jsx("p",{className:"text-sm text-purple-200",children:"U Rack IT Management Console"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("button",{onClick:()=>O(!0),className:"flex items-center gap-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors",children:[t.jsx(C,{className:"w-4 h-4"}),"AI Metrics"]}),(0,t.jsxs)("button",{onClick:()=>{s(),window.location.href="/tms"},className:"flex items-center gap-2 text-purple-200 hover:text-white",children:[t.jsx(S.Z,{className:"w-4 h-4"}),"Logout"]})]})]})}),h&&t.jsx("div",{className:"bg-white border-b border-gray-200",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-5 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:t.jsx(_.Z,{className:"w-5 h-5 text-yellow-600"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-xl font-bold text-gray-900",children:h.openTickets}),t.jsx("p",{className:"text-xs text-gray-500",children:"Open"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(m.Z,{className:"w-5 h-5 text-blue-600"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-xl font-bold text-gray-900",children:h.inProgressTickets}),t.jsx("p",{className:"text-xs text-gray-500",children:"In Progress"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:t.jsx(_.Z,{className:"w-5 h-5 text-orange-600"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-xl font-bold text-gray-900",children:h.escalatedTickets}),t.jsx("p",{className:"text-xs text-gray-500",children:"Escalated"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:t.jsx(_.Z,{className:"w-5 h-5 text-red-600"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-xl font-bold text-gray-900",children:h.criticalTickets}),t.jsx("p",{className:"text-xs text-gray-500",children:"Critical"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsx(I.Z,{className:"w-5 h-5 text-green-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-xl font-bold text-gray-900",children:[h.availableAgents,"/",h.totalAgents]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Agents Available"})]})]})]})})}),t.jsx("div",{className:"bg-white border-b border-gray-200",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4",children:t.jsx("div",{className:"flex gap-1",children:F.map(e=>(0,t.jsxs)("button",{onClick:()=>o(e.id),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors ${x===e.id?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[t.jsx(e.icon,{className:"w-4 h-4"}),e.label,void 0!==e.count&&t.jsx("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded-full",children:e.count})]},e.id))})})}),(0,t.jsxs)("main",{className:"max-w-7xl mx-auto px-4 py-6",children:["tickets"===x&&(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[t.jsx("h2",{className:"font-semibold text-gray-900",children:"All Tickets"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(P,{className:"w-4 h-4 text-gray-400"}),(0,t.jsxs)("select",{value:E||"",onChange:e=>B(e.target.value?parseInt(e.target.value):void 0),className:"text-sm border border-gray-300 rounded-lg px-3 py-1",children:[t.jsx("option",{value:"",children:"All Statuses"}),t.jsx("option",{value:"1",children:"Open"}),t.jsx("option",{value:"2",children:"In Progress"}),t.jsx("option",{value:"3",children:"Awaiting Customer"}),t.jsx("option",{value:"4",children:"Escalated"}),t.jsx("option",{value:"5",children:"Resolved"}),t.jsx("option",{value:"6",children:"Closed"})]})]})]}),q?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):0===g.length?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"No tickets found"}):t.jsx("div",{className:"divide-y divide-gray-100",children:g.map(e=>(0,t.jsxs)("div",{onClick:()=>U(e.ticket_id),className:"p-4 hover:bg-gray-50 cursor-pointer flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["#",e.ticket_id]}),t.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${H[e.status?.name]||"bg-gray-100"}`,children:e.status?.name}),t.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${z[e.priority?.name]||"bg-gray-100"}`,children:e.priority?.name}),e.requires_human_agent&&t.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-purple-100 text-purple-700",children:"Needs Human"})]}),t.jsx("p",{className:"font-medium text-gray-900",children:e.subject}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[e.contact?.full_name," • ",e.organization?.name," • ",(0,T.Q)(new Date(e.created_at),{addSuffix:!0})]})]}),t.jsx(R.Z,{className:"w-5 h-5 text-gray-400"})]},e.ticket_id))})]}),"organizations"===x&&(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[t.jsx("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:t.jsx("h2",{className:"font-semibold text-gray-900",children:"Organizations"})}),q?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):0===y.length?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"No organizations found"}):t.jsx("div",{className:"divide-y divide-gray-100",children:y.map(e=>t.jsx("div",{className:"p-4 flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:t.jsx(M,{className:"w-5 h-5 text-purple-600"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["U&E Code: ",e.u_e_code]})]})]})},e.organization_id))})]}),"contacts"===x&&(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[t.jsx("div",{className:"p-4 border-b border-gray-200",children:t.jsx("h2",{className:"font-semibold text-gray-900",children:"Contacts"})}),q?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):0===v.length?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"No contacts found"}):t.jsx("div",{className:"divide-y divide-gray-100",children:v.map(e=>t.jsx("div",{className:"p-4 flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx(u,{className:"w-5 h-5 text-blue-600"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:e.full_name}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[e.email," • ",e.phone]}),t.jsx("p",{className:"text-xs text-gray-400",children:e.organization?.name})]})]})},e.contact_id))})]}),"agents"===x&&(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[t.jsx("div",{className:"p-4 border-b border-gray-200",children:t.jsx("h2",{className:"font-semibold text-gray-900",children:"Support Agents"})}),q?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):0===f.length?t.jsx("div",{className:"p-8 text-center text-gray-500",children:"No agents found"}):t.jsx("div",{className:"divide-y divide-gray-100",children:f.map(e=>(0,t.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${"Bot"===e.agent_type?"bg-purple-100":"bg-green-100"}`,children:t.jsx(Z.Z,{className:`w-5 h-5 ${"Bot"===e.agent_type?"text-purple-600":"text-green-600"}`})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:e.full_name}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[e.agent_type," • ",e.specialization||"General"]})]})]}),t.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${e.is_available?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:e.is_available?"Available":"Offline"})]},e.support_agent_id))})]})]}),t.jsx(k,{isOpen:L,onClose:()=>O(!1)})]})}},7318:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(8570).createProxy)(String.raw`/root/webhook/ticket-console/src/app/dashboard/admin/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[276,347,444,721],()=>a(5942));module.exports=t})();